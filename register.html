<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- <script src="script.js"></script> -->
    <link rel="stylesheet" href="./css/store-style.css">
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <script defer src="./js/bootstrap.bundle.min.js"></script>
    <script defer src="./js/wow.min.js"></script>
    <title>Document</title>
</head>

<body>
    <nav class="navbar border-bottom-dark navbar-expand-lg bg-body-tertiary" data-bs-theme="dark"
        style="background-color: #611d1e !important;">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="">
                <img class="mx-4" src="/Pics/LOGOW.png" style="width: 80px; height: 70px;" alt="">

                <a class="d-inline-flex text-decoration-none text-light mx-3" href="#">تسجيل دخول</a>
                <a class="d-inline-flex text-decoration-none text-light" href="/register.html">انشاء حساب</a>
            </div>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">

                    <li class="nav-item">
                        <a class="nav-link text-white" href="./home.html#contact">اتصل بنا</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white" href="/home.html#br">اقسامنا</a>
                    </li>
                    <!-- <li class="nav-item">
                    <a class="nav-link" href="#">سوق البناء</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">الفعاليات والعروض</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link ">الخدمات</a>
                </li> -->
                    <li class="nav-item">
                        <a class="nav-link text-white" aria-current="page" href="./home.html">الرئيسيه</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container shadow" style="background-color: #f5f5f5;">
        <form method="POST" id="form" class=" w-100 p-4 mt-5" dir="rtl">
            <div class="row">
                <div class="col-7">
                    <div class="mb-3">
                        <label for="name" class="form-label text-dark">اسم المستخدم </label>
                        <input type="text" id="name" name="name" class="bord form-control " placeholder="ابراهيم">
                    </div>
                    <div class="mb-3">
                        <label for="phone_number" class="form-label text-dark"> رقم الجوال</label>
                        <input type="tel" id="phone_number" name="phone_number" class="bord form-control"
                            placeholder="+123456789">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label text-dark">البريد الألكتروني</label>
                        <input type="email" id="email" name="email" class="bord form-control"
                            placeholder="almawash@domain.com">
                    </div>
                    <div class="mb-3">
                        <label for="password" class="form-label text-dark">كلمه المرور</label>
                        <input type="password" id="password" name="password" class="bord form-control"
                            placeholder="كلمه المرور">
                    </div>


                    <div class="mb-3 row" style="display: none;" id="additional-inputs">
                        <div class="col" id="commercial-input">
                            <label for="commercial_number" class="form-label text-dark mb-3">رقم السجل التجاري</label>
                            <input type="text" id="commercial_number" name="commercial_number" class="bord form-control"
                                placeholder="رقم السجل التجاري">
                        </div>
                        <div class="col">
                            <select id="user-place" style="padding: 5px; margin-bottom: 5px;">
                                <option value="none" selected disabled>النشاط</option>
                                <option value="1">1</option>
                                <option value="2">نشاط المكاتب الهندسية والعقارية</option>
                                <option value="1">3</option>
                            </select>

                            <input type="text" id="additional-input" class="form-control" style="display: none;"
                                placeholder="رقم تصنيف بلدي">
                        </div>
                    </div>
                    <div class="row">
                        <p class="login text-dark col">
                            <input class="" type="checkbox">
                            اوافق علي
                            <span type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
                                class="text-primary">الشروط والاحكام.</span>
                        </p>
                        <div class="col">
                            <select id="user-type-select" style="padding: 5px;">
                                <option value="none" selected disabled>عميل / مؤسسة او شركة</option>
                                <option value="user">عميل</option>
                                <option value="merchant">مؤسسة او شركة</option>
                            </select>
                        </div>
                    </div>

                    <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false"
                        tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body text-dark">
                                    الشروط والأحكام هي أساس العلاقات التعاقدية. تحدد هذه الشروط الملزمية والمسؤولية
                                    للأطراف المعنية. تهدف الشروط إلى تنظيم العلاقة بشكل عادل ومتوازن. تشمل الشروط
                                    الاشتراطات والقيود والحقوق والواجبات. يجب على الأفراد قبول الشروط قبل الاستفادة من
                                    المنتج أو الخدمة المقدمة. يعتبر الامتثال للشروط واجبًا وقد يترتب عليه العواقب
                                    القانونية في حالة الانتهاك. يُنصح بقراءة الشروط والأحكام بعناية قبل الموافقة عليها
                                    لضمان الفهم الكامل والالتزام المناسب.
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">اغلاق</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a type="button" class="login" data-bs-toggle="modal" data-bs-target="#exampleModal"
                        style="cursor: pointer; text-decoration: none; color: #611d1e;" data-bs-whatever="@fat">لديك
                        حساب بالفعل؟</a>
                    <br>


                    <div onclick="signup()" class="btn register-btn mt-3">انشاء حساب</div>
                </div>
                <div class="col-5 text-dark justify-content-center d-flex">
                    <img src="./Pics/LOGOB.png" style="width: 450px; height: 400px;" alt="">
                </div>
            </div>


        </form>
        <div class="container text-center">

        </div>
        <div class="modal fade" dir="rtl" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header" dir="ltr">
                        <button type="button" class="btn-close" style="margin: -.5rem auto -.5rem -.5rem ;"
                            data-bs-dismiss="modal" aria-label="Close"></button>
                        <h5 class="modal-title text-dark" style="background-color: transparent;" id="exampleModalLabel">
                            تسجيل
                            دخول
                        </h5>
                    </div>
                    <div class="modal-body">
                        <form>
                            <div class="mb-3">
                                <label for="recipient-name" class="col-form-label text-dark">الأيميل</label>
                                <input type="email" name="email" class="form-control">
                            </div>
                            <div class="mb-3">
                                <label for="message-text" class="col-form-label text-dark">كلمه المرور</label>
                                <input type="password" class="form-control" name="password">
                            </div>
                            <div class="mt-1">
                                <input type="radio" name="admin">
                                <label for="radio" class="text-dark" style="margin-left: 10px;">مستخدم</label>
                                <input type="radio" name="admin">
                                <label for="user" class="text-dark">تاجر</label>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">اغلاق</button>
                        <button type="button" class="btn btn-primary">تسجيل دخول</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const commercialInputDiv = document.getElementById('commercial-input');
        const userTypeSelect = document.getElementById('user-type-select');
        const additionalInputsDiv = document.getElementById('additional-inputs');

        // Add event listener to the select element
        userTypeSelect.addEventListener('change', () => {
            const selectedOption = userTypeSelect.value;

            // Show or hide the additional inputs based on the selected option
            if (selectedOption === 'merchant') {
                additionalInputsDiv.style.display = 'flex';
            } else {
                additionalInputsDiv.style.display = 'none';
            }
        });

        // Initial check for the selected option on page load
        if (userTypeSelect.value === 'merchant') {
            additionalInputsDiv.style.display = 'flex';
        }
        const userPlaceSelect = document.getElementById('user-place');
        const additionalInput = document.getElementById('additional-input');

        userPlaceSelect.addEventListener('change', () => {
            const selectedValue = userPlaceSelect.value;

            if (selectedValue === '2') {
                additionalInput.style.display = 'block';
            } else {
                additionalInput.style.display = 'none';
            }
        });



        async function signup() {
            try {
                var firstname = document.querySelector("#form input[name='name']").value;
                var phonenumber = document.querySelector("#form input[name='phone_number']").value;
                var email = document.querySelector("#form input[name='email']").value;
                var password = document.querySelector("#form input[name='password']").value;

                // Create an object representing the user data
                var userData = {
                    user: {
                        email: email,
                        password: password,
                        name: firstname,
                        phone_number: phonenumber
                    }
                };

                // Convert the user data object to JSON
                var jsonData = JSON.stringify(userData);

                // Fetch request to submit form data
                var response = await fetch("https://almawash.serveo.net/signup", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: jsonData
                });

                if (!response.ok) {
                    throw new Error("Error: " + response.status);
                }

                var data = await response.json();
                // Handle the response data here
                console.log(data);
            } catch (error) {
                // Handle any errors here
                console.error(error);
            }
        }

    </script>

</body>

</html>